import{_ as a,c as i,o as e,ae as t}from"./chunks/framework.BujyyggW.js";const c=JSON.parse('{"title":"合并请求","description":"","frontmatter":{},"headers":[],"relativePath":"server/advance/parallel-route.md","filePath":"server/advance/parallel-route.md","lastUpdated":1753154800000}'),n={name:"server/advance/parallel-route.md"};function l(p,s,h,r,d,o){return e(),i("div",null,s[0]||(s[0]=[t(`<h1 id="合并请求" tabindex="-1">合并请求 <a class="header-anchor" href="#合并请求" aria-label="Permalink to &quot;合并请求&quot;">​</a></h1><blockquote><p>只针对于<code>server</code>框架，<code>rpc</code>没有</p></blockquote><p>把接口调用抽象成函数调用，同时调用多个接口时会发出多次请求，这完全可以合并成一次请求</p><p><code>phecda-server</code>会开放一条路由，用于合并请求,和<code>trpc</code>类似</p><p>同样存在<a href="./../must-know/limit.html#只支持-json-格式的上传返回">限制</a></p><h2 id="服务方" tabindex="-1">服务方 <a class="header-anchor" href="#服务方" aria-label="Permalink to &quot;服务方&quot;">​</a></h2><p>默认的并行路由是<code>/__PHECDA_SERVER__</code>，可以手动设置</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(app, data, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  parallelRoute</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>如果设置<code>false</code>，就禁用</p><h2 id="调用方" tabindex="-1">调用方 <a class="header-anchor" href="#调用方" aria-label="Permalink to &quot;调用方&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> chain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { user: UserController },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  adaptor,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    batch:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    parallelRoute: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/__PHECDA_SERVER__&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div>`,11)]))}const E=a(n,[["render",l]]);export{c as __pageData,E as default};
