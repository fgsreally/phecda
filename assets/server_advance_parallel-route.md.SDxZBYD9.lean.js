import{_ as s,c as e,a1 as i,o as t}from"./chunks/framework.Bk_hI6yf.js";const k=JSON.parse('{"title":"合并请求","description":"","frontmatter":{},"headers":[],"relativePath":"server/advance/parallel-route.md","filePath":"server/advance/parallel-route.md","lastUpdated":1736676827000}'),n={name:"server/advance/parallel-route.md"};function l(p,a,h,r,d,o){return t(),e("div",null,a[0]||(a[0]=[i(`<h1 id="合并请求" tabindex="-1">合并请求 <a class="header-anchor" href="#合并请求" aria-label="Permalink to &quot;合并请求&quot;">​</a></h1><blockquote><p>只针对于<code>server</code>框架，<code>rpc</code>没有</p></blockquote><p>把接口调用抽象成函数调用，同时调用多个接口时会发出多次请求，这完全可以合并成一次请求</p><p><code>phecda-server</code>会开放一条路由，用于合并请求,和<code>trpc</code>类似</p><p>这个功能存在<a href="./limit.html#只支持-json-格式的上传返回">局限</a></p><h2 id="服务方" tabindex="-1">服务方 <a class="header-anchor" href="#服务方" aria-label="Permalink to &quot;服务方&quot;">​</a></h2><p>默认的并行路由是<code>/__PHECDA_SERVER__</code>，可以手动设置</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(app, data, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  parallelRoute</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>如果设置<code>false</code>，就禁用</p><h2 id="调用方" tabindex="-1">调用方 <a class="header-anchor" href="#调用方" aria-label="Permalink to &quot;调用方&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> chain</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createChainReq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  instance,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { test: UserController },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { batch: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div>`,11)]))}const E=s(n,[["render",l]]);export{k as __pageData,E as default};
